<!DOCTYPE html>
<html>
<head>
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MZG9L7');</script>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Apereo CAS - Fun with HashiCorp Consul &#8211; Apereo Community Blog</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Integrate HashiCorp Consul with CAS for service discovery and distributed configuration management.">
    <meta name="robots" content="all">
    <meta name="author" content="Apereo Project Participants">
    
    <meta name="keywords" content="">
    <link rel="canonical" href="https://apereo.github.io/2018/10/22/cas6-consul-discovery/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Apereo Community Blog" href="/feed.xml" />

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css"
          integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd"
          crossorigin="anonymous">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js"></script>
    
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js"
            integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7"
            crossorigin="anonymous"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?202303081604" type="text/css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    
    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    

    <!-- MathJax -->
    
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js??config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Apereo CAS - Fun with HashiCorp Consul">
    <meta property="og:description" content="This is a blog managed and edited by the Apereo project participants. It is typically used to post project updates, announce news, etc.">
    <meta property="og:url" content="https://apereo.github.io/2018/10/22/cas6-consul-discovery/">
    <meta property="og:site_name" content="Apereo Community Blog">
    
    <meta property="og:image" content="https://apereo.github.io/images/me.jpeg">
    

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@Apereo" />
        <meta name="twitter:creator" content="@Apereo" />
    
    <meta name="twitter:title" content="Apereo CAS - Fun with HashiCorp Consul" />
    <meta name="twitter:description" content="Integrate HashiCorp Consul with CAS for service discovery and distributed configuration management." />
    <meta name="twitter:url" content="https://apereo.github.io/2018/10/22/cas6-consul-discovery/" />
    
    <meta name="twitter:image" content="https://apereo.github.io/images/me.jpeg" />
    

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">

    
    <script type="text/javascript">
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-83384532-1', 'auto');
       ga('send', 'pageview');
    </script>
    

    
    
</head>

<body class="site animated fade-in-down">
  

  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MZG9L7"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MZG9L7');</script>
  
  
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="https://apereo.github.io" class="site-title">Apereo Community Blog</a>
      <nav class="site-nav">
        



    
    
    
    
        <a href="/about/">About</a>
    

    

    
    
    
    
        <a href="/contact/">Say Hello</a>
    

    

    
    
    
    
        <a href="/tags/">All Posts</a>
    

    

    
    
    
    
        <a href="/search/">Search</a>
    

    


      </nav>
      <div class="clearfix"></div>
      
        <div class="social-icons">
  <div class="social-icons-right">
    
      <a class="fa fa-github" href="https://github.com/apereo"></a>
    
    
    
    
    <a class="fa fa-rss" href="/feed.xml"></a>
    
      <a class="fa fa-twitter" href="https://twitter.com/Apereo"></a>
    
    
    
    
    
      <a class="fa fa-envelope" href="mailto:info@apereo.org"></a>
    
    
    
    
    
    
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        


<div class="post-header mb2">
  <h1>Apereo CAS - Fun with HashiCorp Consul</h1>
  <span class="post-meta">Monday, Oct 22, 2018</span><br>
  
  <span class="post-meta small">
  
    6 minute read
  
  </span>
</div>

<article class="post-content">
  <div class="alert alert-success">
  <strong>Collaborate</strong><br />The blog is managed and hosted on GitHub. If you wish to update the contents of this post or if you have found an inaccuracy and wish to make corrections, we recommend that you please submit a pull request to <a href="https://github.com/apereo/apereo.github.io">this repository</a>.
</div>

<p>Consul is a distributed, highly-available, and multi-datacenter aware tool for service discovery, configuration, and orchestration. Consul enables rapid deployment, configuration, and maintenance of service-oriented architectures at a massive scale. For more information, please see the <a href="https://www.consul.io/">consul documentation</a>.</p>

<p>The <a href="https://apereo.github.io/cas/development/installation/Service-Discovery-Guide-Consul.html">CAS integration with Consul</a> has been available for some time and comes in multiple flavors. First, the server can use Consul for service discovery which is one of the key tenets of a cloud-based HA architecture. As Josh Long puts it:</p>

<blockquote>
  <p>A service registry is a phone book for your microservices. Each service registers itself with the service registry and tells the registry where it lives (host, port, node name) and perhaps other service-specific metadata - things that other services can use to make informed decisions about it.</p>
</blockquote>

<p>In our case, we could have each CAS server instance in a cluster register itself with the discovery server automatically, (i.e. the CAS server is a client of the discovery server), and then have individual discovery-aware CAS clients query the discovery server to figure out the availability and location of each CAS server node. Throw in a software load-balancer like <a href="https://github.com/Netflix/ribbon">Netflix Ribbon</a> and things begin to get interesting.</p>

<div class="alert alert-success">
  <strong>Netflix Eureka</strong><br />A similiar integration with <a href="https://apereo.github.io/cas/development/installation/Service-Discovery-Guide-Eureka.html">Netflix Eureka Server</a> is also available and supported by CAS.
</div>

<p>The other available <a href="https://apereo.github.io/cas/development/installation/Service-Discovery-Guide-Consul.html">CAS integration with Consul</a> deals with managing distributed configuration using the Consul Key/Value store. Consul provides a Key/Value Store for storing configuration and other metadata. CAS takes advantage of the <a href="http://cloud.spring.io/spring-cloud-consul/single/spring-cloud-consul.html">Spring Cloud Consul Config integration library</a> to fetch such configuration and metadata as an alternative to the <a href="https://apereo.github.io/cas/development/configuration/Configuration-Server-Management.html">Config Server and Client</a>.</p>

<p>To learn more about the Consul Key/Value store, please <a href="https://www.consul.io/api/kv.html">see this page</a>.</p>

<p>In this tutorial, we will focus on a <em>simple walkthrough</em> of how to integrate Consul with CAS for both service discovery and configuration management. Our starting position is based on the following:</p>

<ul>
  <li>CAS <code class="highlighter-rouge">6.0.0-RC3</code></li>
  <li>Java 11</li>
  <li><a href="https://github.com/apereo/cas-overlay-template">CAS Overlay</a> (The <code class="highlighter-rouge">master</code> branch specifically)</li>
  <li><a href="https://stedolan.github.io/jq/">CLI JSON Processor <code class="highlighter-rouge">jq</code></a></li>
  <li><a href="https://www.docker.com/get-started">Docker</a></li>
</ul>

<h2 id="consul-configuration">Consul Configuration</h2>

<p>To configure a simple Consul server, we can use the <a href="https://hub.docker.com/_/consul/">available Docker image</a> which is perfectly good for demos and testing. Use the following command to run the Consul server:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--name</span><span class="o">=</span>consul <span class="nt">-p8500</span>:8500 <span class="nt">-e</span> <span class="nv">CONSUL_BIND_INTERFACE</span><span class="o">=</span>eth0 consul
</code></pre></div></div>

<p>By default, Consul allows connections to these ports only from the loopback interface (<code class="highlighter-rouge">127.0.0.1</code>). When you run the Consul agent, it listens on 6 ports all of which serve different functions. The three ports essential to our discussion are:</p>

<ul>
  <li>HTTP API (default port: <code class="highlighter-rouge">8500</code>): handles HTTP API requests from clients</li>
  <li>CLI RPC (default port: <code class="highlighter-rouge">8400</code>): handles requests from CLI</li>
  <li>DNS (default port: <code class="highlighter-rouge">8600</code>): answers DNS queries</li>
</ul>

<p>Our Docker command runs a completely in-memory Consul server agent with default bridge networking and no services exposed on the host, which is useful for development but <strong>SHOULD NOT</strong> be used in production. Once you have the server running, you can point your browser to <code class="highlighter-rouge">http://localhost:8500/ui</code> where you will see something like this:</p>

<p><img src="https://user-images.githubusercontent.com/1205228/47265207-22471e00-d531-11e8-9291-3c2970b18c6e.png" alt="image" /></p>

<p>There is nothing registered with the server yet. As the next step, we will connect the CAS server to Consul.</p>

<h2 id="cas-server-configuration">CAS Server Configuration</h2>

<h3 id="service-discovery">Service Discovery</h3>

<h4 id="registration">Registration</h4>

<p>Each individual CAS server is given the ability to auto-register itself with the Consul server. This is done using the following module that should go into the CAS overlay:</p>

<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">compile</span> <span class="s2">"org.apereo.cas:cas-server-support-consul-client:${project.'cas.version'}"</span>
</code></pre></div></div>

<p>Of course, we need to teach CAS about our Consul server using the <code class="highlighter-rouge">cas.properties</code> file:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">spring.cloud.consul.port</span><span class="p">=</span><span class="s">8500</span>
<span class="py">spring.cloud.consul.enabled</span><span class="p">=</span><span class="s">true</span>
<span class="py">spring.cloud.consul.host</span><span class="p">=</span><span class="s">localhost</span>

<span class="py">spring.cloud.consul.discovery.heartbeat.enabled</span><span class="p">=</span><span class="s">true</span>
<span class="py">spring.cloud.consul.discovery.heartbeat.ttlValue</span><span class="p">=</span><span class="s">60</span>
<span class="py">spring.cloud.consul.discovery.heartbeat.ttlUnit</span><span class="p">=</span><span class="s">s</span>
</code></pre></div></div>

<p>These settings are primarily offered and controlled by Spring Cloud that teaches CAS the location of the Consul server and how it may register itself with that server as a Consul client.</p>

<p>When you build and deploy CAS next, the Consul server should properly recognize the registration request and display something like this:</p>

<p><img src="https://user-images.githubusercontent.com/1205228/47265240-b0230900-d531-11e8-9ed8-dc8a6ce30e63.png" alt="image" /></p>

<p>…where you can drill into the <code class="highlighter-rouge">cas</code> service and look at various screens:</p>

<p><img src="https://user-images.githubusercontent.com/1205228/47265243-ca5ce700-d531-11e8-95dd-5757264d00a6.png" alt="image" /></p>

<p>As extra proof, CAS logs would indicate the following too:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INFO [ConsulServiceRegistry] - &lt;Registering service with consul: NewService{id='cas-8443', name='cas'...
</code></pre></div></div>

<h4 id="discovery">Discovery</h4>

<p>So far, we have only been reviewing the service registration aspect. As the next step, you would want to build and configure clients that are able to contact the discovery server, asking about available <code class="highlighter-rouge">CAS</code> instances. Spring Cloud makes this rather easy. As an example your Java client would look something like this:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@EnableDiscoveryClient</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleClientApplication</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">SampleClientApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="nd">@RestController</span>
<span class="kd">class</span> <span class="nc">ServiceInstanceRestController</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">DiscoveryClient</span> <span class="n">discoveryClient</span><span class="o">;</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/service-instances/{applicationName}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ServiceInstance</span><span class="o">&gt;</span> <span class="nf">serviceInstances</span><span class="o">(</span>
            <span class="nd">@PathVariable</span> <span class="n">String</span> <span class="n">applicationName</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">discoveryClient</span><span class="o">.</span><span class="na">getInstances</span><span class="o">(</span><span class="n">applicationName</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>…where you’d have:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">spring.application.name</span><span class="p">=</span><span class="s">cas</span>
</code></pre></div></div>

<p>With the above code snippet, our sample CAS client defines a Spring MVC REST endpoint that returns an enumeration of all the <code class="highlighter-rouge">ServiceInstance</code> instances registered in the Consul registry. From then on, the client may proceed deal with each <code class="highlighter-rouge">ServiceInstance</code> that would be refreshed automatically as CAS servers come and go in the discovery server.</p>

<h3 id="configuration-management">Configuration Management</h3>

<p>Consul provides a Key/Value Store for storing configuration and other metadata. Configuration is loaded into the CAS environment during the special <em>bootstrap</em> phase at runtime. Configuration is stored in the <code class="highlighter-rouge">/config</code> folder by default. Multiple <code class="highlighter-rouge">PropertySource</code> instances are created based on the application’s name and the active profiles that mimic the Spring Cloud Config order of resolving properties.</p>

<p>For example, an application with the name <code class="highlighter-rouge">cas</code> and with the <code class="highlighter-rouge">dev</code> profile will have the following property sources created:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config/cas,dev/
config/cas/
config/application,dev/
config/application/
</code></pre></div></div>

<p>The most specific property source is at the top, with the least specific at the bottom. Properties in the <code class="highlighter-rouge">config/application</code> folder are applicable to all applications using consul for configuration. Properties in the <code class="highlighter-rouge">config/cas/</code> folder are only available to the instances of the service named cas.</p>

<div class="alert alert-info">
  <strong>Configuration</strong><br />There is no other extra step required in CAS to make distributed configuration management work with Consul. If you have the discovery piece working, you will be able to automatically take advantage of the Key/Value store.
</div>

<p>So let’s create <code class="highlighter-rouge">config/cas/</code> folder in Consul and add a sample property <code class="highlighter-rouge">cas.authn.accept.users</code> which controls static authentication in CAS with a list of hardcoded credentials:</p>

<p><img src="https://user-images.githubusercontent.com/1205228/47265712-195a4a80-d539-11e8-9124-b2421e53c7ed.png" alt="image" /></p>

<p>Once you save the setting, CAS logs should indicate the application context refreshing to recognize the change:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INFO [RefreshEventListener] - &lt;Refresh keys changed: [cas.authn.accept.users]&gt;
</code></pre></div></div>

<p>After the change is picked up, you should be able to log into CAS using <code class="highlighter-rouge">casuser</code> and <code class="highlighter-rouge">Misagh</code> as the credentials! Just as well, we can delete the setting from Consul, let CAS pick up the change and we should be able to fall back onto the default credentials for static authentication which are <code class="highlighter-rouge">casuser</code> and <code class="highlighter-rouge">Mellon</code>.</p>

<p>How is this possible? There is a thing called <em>Consul Config Watch</em> which in CAS takes advantage of the ability of consul to watch a key prefix. It makes a blocking Consul HTTP API call to determine if any relevant configuration data has changed for the current application. If there is new configuration data a <code class="highlighter-rouge">Refresh Event</code> is published and captured by CAS to refresh the status of the application context, as is demonstrated by the logs.</p>

<p>Pretty cool!</p>

<h2 id="finale">Finale</h2>

<p>I hope this review was of some help to you and I am sure that both this post as well as the functionality it attempts to explain can be improved in any number of ways. Please feel free to <a href="https://apereo.github.io/cas/developer/Contributor-Guidelines.html">engage and contribute</a> as best as you can.</p>

<p><a href="https://twitter.com/misagh84">Misagh Moayyed</a></p>

</article>


  <div class="share-page">
  Share this post!

  <div class="share-links">
    
      <a class="fa fa-facebook" href="https://facebook.com/sharer.php?u=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F" rel="nofollow" target="_blank" title="Share on Facebook"></a>
    

    
      <a class="fa fa-twitter" href="https://twitter.com/intent/tweet?text=Apereo+CAS+-+Fun+with+HashiCorp+Consul&amp;url=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F" rel="nofollow" target="_blank" title="Share on Twitter"></a>
    

    
      <a class="fa fa-google-plus" href="https://plus.google.com/share?url=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F" rel="nofollow" target="_blank" title="Share on Google+"></a>
    

    
      <a class="fa fa-linkedin" href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F&amp;title=Apereo+CAS+-+Fun+with+HashiCorp+Consul" rel="nofollow" target="_blank" title="Share on LinkedIn"></a>
    

    
      <a class="fa fa-digg" href="http://digg.com/submit?url=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F&amp;title=Apereo+CAS+-+Fun+with+HashiCorp+Consul" rel="nofollow" target="_blank" title="Share on Digg"></a>
    

    
      <a class="fa fa-tumblr" href="http://www.tumblr.com/share/link?url=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F&amp;name=Apereo+CAS+-+Fun+with+HashiCorp+Consul" rel="nofollow" target="_blank" title="Share on Tumblr"></a>
    

    
      <a class="fa fa-reddit" href="http://reddit.com/submit?url=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F&amp;title=Apereo+CAS+-+Fun+with+HashiCorp+Consul" rel="nofollow" target="_blank" title="Share on Reddit"></a>
    

    
      <a class="fa fa-stumbleupon" href="http://www.stumbleupon.com/submit?url=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F&amp;title=Apereo+CAS+-+Fun+with+HashiCorp+Consul" rel="nofollow" target="_blank" title="Share on StumbleUpon"></a>
    

    
      <a class="fa fa-hacker-news" onclick="parent.postMessage('submit','*')" href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fapereo.github.io%2F2018%2F10%2F22%2Fcas6-consul-discovery%2F&amp;t=Apereo+CAS+-+Fun+with+HashiCorp+Consul" rel="nofollow" target="_blank" title="Share on Hacker News"></a>
    
  </div>
</div>




  <div class="py2 post-footer">
  <!-- <img src="/images/me.jpeg" alt="John Otander" class="avatar" /> -->

  <p>
    Follow Apereo on <a href="https://twitter.com/Apereo">Twitter</a>.
  </p>
</div>










  <h3 class="related-post-title">Related Posts</h3>
  
    <div class="post ml2">
      <a href="/2019/02/01/610rc1-release/" class="post-link">
        <h4 class="post-title">CAS 6.1.0 RC1 Feature Release</h4>
        <p class="post-summary">...in which I present an overview of CAS 6.1.0 RC1 release.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/24/cas53-oohlalamobile-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - OohLala Mobile SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate OohLala Mobile with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/24/cas53-oclc-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - Cranium Cafe SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate Cranium Cafe with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/24/cas53-elumen-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - eLumen SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate eLumen with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/23/cas53-getrave-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - Rave SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate Rave with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/22/cas53-hiretouch-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - HireTouch SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate HireTouch with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/06/cas53-office365-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - Microsoft Office 365 SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate Microsoft Office 365 with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/04/cas53-happyfox-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - HappyFox SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate HappyFox with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/04/cas53-cisco-webex-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - Cisco Webex SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate Cisco Webex with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  
    <div class="post ml2">
      <a href="/2018/12/03/cas53-vmwareidentitymgr-saml2-integration/" class="post-link">
        <h4 class="post-title">Apereo CAS - VMware Identity Manager SAML2 Integration</h4>
        <p class="post-summary">Learn how to integrate VMware Identity Manager with Apereo CAS running as a SAML2 identity provider.</p>
      </a>
    </div>
  


      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
    <small>
      Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a> (<a href="https://twitter.com/4lpine">@4lpine</a>).<br>
      &lt;/&gt; available on <a href="https://github.com/johnotander/pixyll">Github</a>.
    </small>
  </div>

          
</footer>
<!-- AnchorJS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.0.0/anchor.min.js"></script>
<script>
    anchors.options.visible = 'always';
    anchors.add('article h1, article h2, article h3, article h4, article h5, article h6');
</script>

	
</body>
</html>
